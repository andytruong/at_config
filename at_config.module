<?php

use \Drupal\at_config\Resolver;
use \Drupal\at_config\Config;

/**
 * Usage
 *
 * // Lookup at /path/to/my_module/config/my_module.yml > webmaster
 * $webmaster_email = at_config('%my_module%')->get('webmaster');
 *
 * // Lookup at /path/to/my_module/config/templates.yml > email.notify
 * $mail_notify_template = at_config('%my_module%.templates')->get('email.notify');
 *
 * @param  string  $id        Config ID
 * @param  boolean $refresh   Build new cache
 * @return Config
 * @todo   Will remove when at_di.module is ready.
 */
function at_config($id, $refresh = FALSE) {
  $resolver =  new Resolver();
  return new Config($id, $resolver);
}

/**
 * Implements hook_go_api()
 */
function at_config_go_api() {
  return array('api' => '1.0');
}
